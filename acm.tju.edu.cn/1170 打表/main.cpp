#include<stdio.h>
int main()
{
	char team[16][20];
	int i, j;
	double p[17][17];
	double r[17];
	double s[17];
	double t[17];
	double sum;
	for(i = 0;i < 16;i++)
	{
		scanf("%s", team[i]);
	}
	for(i = 1;i <= 16;i++)
		for(j = 1;j <= 16;j++)
		{
			scanf("%lf", &p[i][j]);
			p[i][j] /= 100;
		}

	r[1] = p[1][2] * (p[3][4] * p[1][3] + p[4][3] * p[1][4]);
	r[2] = p[2][1] * (p[3][4] * p[2][3] + p[4][3] * p[2][4]);
	r[3] = p[3][4] * (p[1][2] * p[3][1] + p[2][1] * p[3][2]);
	r[4] = p[4][3] * (p[1][2] * p[4][1] + p[2][1] * p[4][2]);
	r[5] = p[5][6] * (p[7][8] * p[5][7] + p[8][7] * p[5][8]);
	r[6] = p[6][5] * (p[7][8] * p[6][7] + p[8][7] * p[6][8]);
	r[7] = p[7][8] * (p[5][6] * p[7][5] + p[6][5] * p[7][6]);
	r[8] = p[8][7] * (p[5][6] * p[8][5] + p[6][5] * p[8][6]);
	r[9] = p[9][10] * (p[11][12] * p[9][11] + p[12][11] * p[9][12]);
	r[10] = p[10][9] * (p[11][12] * p[10][11] + p[12][11] * p[10][12]);
	r[11] = p[11][12] * (p[9][10] * p[11][9] + p[10][9] * p[11][10]);
	r[12] = p[12][11] * (p[9][10] * p[12][9] + p[10][9] * p[12][10]);
	r[13] = p[13][14] * (p[15][16] * p[13][15] + p[16][15] * p[13][16]);
	r[14] = p[14][13] * (p[15][16] * p[14][15] + p[16][15] * p[14][16]);
	r[15] = p[15][16] * (p[13][14] * p[15][13] + p[14][13] * p[15][14]);
	r[16] = p[16][15] * (p[13][14] * p[16][13] + p[14][13] * p[16][14]);
	s[1] = r[1] * (r[5] * p[1][5] + r[6] * p[1][6] + r[7] * p[1][7] + r[8] * p[1][8]);
	s[2] = r[2] * (r[5] * p[2][5] + r[6] * p[2][6] + r[7] * p[2][7] + r[8] * p[2][8]);
	s[3] = r[3] * (r[5] * p[3][5] + r[6] * p[3][6] + r[7] * p[3][7] + r[8] * p[3][8]);
	s[4] = r[4] * (r[5] * p[4][5] + r[6] * p[4][6] + r[7] * p[4][7] + r[8] * p[4][8]);
	s[5] = r[5] * (r[1] * p[5][1] + r[2] * p[5][2] + r[3] * p[5][3] + r[4] * p[5][4]);
	s[6] = r[6] * (r[1] * p[6][1] + r[2] * p[6][2] + r[3] * p[6][3] + r[4] * p[6][4]);
	s[7] = r[7] * (r[1] * p[7][1] + r[2] * p[7][2] + r[3] * p[7][3] + r[4] * p[7][4]);
	s[8] = r[8] * (r[1] * p[8][1] + r[2] * p[8][2] + r[3] * p[8][3] + r[4] * p[8][4]);
	s[9] = r[9] * (r[13] * p[9][13] + r[14] * p[9][14] + r[15] * p[9][15] + r[16] * p[9][16]);
	s[10] = r[10] * (r[13] * p[10][13] + r[14] * p[10][14] + r[15] * p[10][15] + r[16] * p[10][16]);
	s[11] = r[11] * (r[13] * p[11][13] + r[14] * p[11][14] + r[15] * p[11][15] + r[16] * p[11][16]);
	s[12] = r[12] * (r[13] * p[12][13] + r[14] * p[12][14] + r[15] * p[12][15] + r[16] * p[12][16]);
	s[13] = r[13] * (r[9] * p[13][9] + r[10] * p[13][10] + r[11] * p[13][11] + r[12] * p[13][12]);
	s[14] = r[14] * (r[9] * p[14][9] + r[10] * p[14][10] + r[11] * p[14][11] + r[12] * p[14][12]);
	s[15] = r[15] * (r[9] * p[15][9] + r[10] * p[15][10] + r[11] * p[15][11] + r[12] * p[15][12]);
	s[16] = r[16] * (r[9] * p[16][9] + r[10] * p[16][10] + r[11] * p[16][11] + r[12] * p[16][12]);
	t[1] = s[1] * (s[9] * p[1][9] + s[10] * p[1][10] + s[11] * p[1][11] + s[12] * p[1][12] + s[13] * p[1][13] + s[14] * p[1][14] + s[15] * p[1][15] + s[16] * p[1][16]);
	t[2] = s[2] * (s[9] * p[2][9] + s[10] * p[2][10] + s[11] * p[2][11] + s[12] * p[2][12] + s[13] * p[2][13] + s[14] * p[2][14] + s[15] * p[2][15] + s[16] * p[2][16]);
	t[3] = s[3] * (s[9] * p[3][9] + s[10] * p[3][10] + s[11] * p[3][11] + s[12] * p[3][12] + s[13] * p[3][13] + s[14] * p[3][14] + s[15] * p[3][15] + s[16] * p[3][16]);
	t[4] = s[4] * (s[9] * p[4][9] + s[10] * p[4][10] + s[11] * p[4][11] + s[12] * p[4][12] + s[13] * p[4][13] + s[14] * p[4][14] + s[15] * p[4][15] + s[16] * p[4][16]);
	t[5] = s[5] * (s[9] * p[5][9] + s[10] * p[5][10] + s[11] * p[5][11] + s[12] * p[5][12] + s[13] * p[5][13] + s[14] * p[5][14] + s[15] * p[5][15] + s[16] * p[5][16]);
	t[6] = s[6] * (s[9] * p[6][9] + s[10] * p[6][10] + s[11] * p[6][11] + s[12] * p[6][12] + s[13] * p[6][13] + s[14] * p[6][14] + s[15] * p[6][15] + s[16] * p[6][16]);
	t[7] = s[7] * (s[9] * p[7][9] + s[10] * p[7][10] + s[11] * p[7][11] + s[12] * p[7][12] + s[13] * p[7][13] + s[14] * p[7][14] + s[15] * p[7][15] + s[16] * p[7][16]);
	t[8] = s[8] * (s[9] * p[8][9] + s[10] * p[8][10] + s[11] * p[8][11] + s[12] * p[8][12] + s[13] * p[8][13] + s[14] * p[8][14] + s[15] * p[8][15] + s[16] * p[8][16]);
	t[9] = s[9] * (s[1] * p[9][1] + s[2] * p[9][2] + s[3] * p[9][3] + s[4] * p[9][4] + s[5] * p[9][5] + s[6] * p[9][6] + s[7] * p[9][7] + s[8] * p[9][8]);
	t[10] = s[10] * (s[1] * p[10][1] + s[2] * p[10][2] + s[3] * p[10][3] + s[4] * p[10][4] + s[5] * p[10][5] + s[6] * p[10][6] + s[7] * p[10][7] + s[8] * p[10][8]);
	t[11] = s[11] * (s[1] * p[11][1] + s[2] * p[11][2] + s[3] * p[11][3] + s[4] * p[11][4] + s[5] * p[11][5] + s[6] * p[11][6] + s[7] * p[11][7] + s[8] * p[11][8]);
	t[12] = s[12] * (s[1] * p[12][1] + s[2] * p[12][2] + s[3] * p[12][3] + s[4] * p[12][4] + s[5] * p[12][5] + s[6] * p[12][6] + s[7] * p[12][7] + s[8] * p[12][8]);
	t[13] = s[13] * (s[1] * p[13][1] + s[2] * p[13][2] + s[3] * p[13][3] + s[4] * p[13][4] + s[5] * p[13][5] + s[6] * p[13][6] + s[7] * p[13][7] + s[8] * p[13][8]);
	t[14] = s[14] * (s[1] * p[14][1] + s[2] * p[14][2] + s[3] * p[14][3] + s[4] * p[14][4] + s[5] * p[14][5] + s[6] * p[14][6] + s[7] * p[14][7] + s[8] * p[14][8]);
	t[15] = s[15] * (s[1] * p[15][1] + s[2] * p[15][2] + s[3] * p[15][3] + s[4] * p[15][4] + s[5] * p[15][5] + s[6] * p[15][6] + s[7] * p[15][7] + s[8] * p[15][8]);
	t[16] = s[16] * (s[1] * p[16][1] + s[2] * p[16][2] + s[3] * p[16][3] + s[4] * p[16][4] + s[5] * p[16][5] + s[6] * p[16][6] + s[7] * p[16][7] + s[8] * p[16][8]);

	for(i = 1;i <= 16;i++)
		printf("%-10s p=%.2lf%%\n", team[i - 1], 100 * t[i]);
	return 0;
}
